name: google-revoke-session
description: Sign out a Google Workspace user from all web and device sessions

# Input parameters for web form generation
inputs:
  userKey:
    type: text
    description: The user's primary email address, alias email address, or unique user ID
    required: true
    validation:
      min: 1
      max: 200

  googleDomain:
    type: text
    description: The Google Workspace domain (e.g., example.com)
    required: true
    validation:
      min: 1
      max: 100

# Required secrets (configured at deployment time)
secrets:
  - GOOGLE_ACCESS_TOKEN

# Expected output structure
outputs:
  userKey:
    type: text
    description: The user key that was signed out

  sessionRevoked:
    type: boolean
    description: Whether the session was successfully revoked

  googleDomain:
    type: text
    description: The Google Workspace domain

  revokedAt:
    type: datetime
    description: When the session was revoked (ISO 8601)

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi